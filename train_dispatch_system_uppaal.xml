<?xml version="1.0" encoding="utf-8"?><!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'><nta><declaration>// Place global declarations here.
chan move_initial2, move_initial3, move_initial4, goods_home, passenger_home, dispatch_train22, move_initial, dispatch_goods1, notify_station1, is_not_delayed2, check_fuel_economy, is_delayed2, is_delayed1, dispatch_ready2, accident_in_path, find_shortest_path, dispatch_ready3, dispatch_ready4, make_adjustments, dispatch_goods, dispatch_ready, update_schedule, notify_train,check_othertrain_possibilities,is_delayed, check_for_known_accidents, send_update, finalize_route, calculate_time, find_shortest_route, alternative_route, is_not_delayed, update_run_finish_status, passenger_train, next_train, end, notify,target_end, other_type_end, dispatch_train_goods, dispatch_train, goods_dispatch_check, passenger_dispatch_check, is_othertype_train, is_goods_train, is_passenger_train, is_not_destination, is_destination, get_details, dispatch_ttrain, Ofailed, failed,tnotified, Onotified, Onotification_confirmation, notification_confirmation, notify_office, confirmation, dispatch_passenger_train;</declaration><template><name x="5" y="5">train_dispatch_system</name><declaration>// Place local declarations here.
</declaration><location id="id0" x="280" y="-40"><name x="288" y="-64">end</name></location><location id="id1" x="96" y="-256"><name x="40" y="-240">dispatch_goods</name></location><location id="id2" x="104" y="-376"><name x="40" y="-368">dispatch_passenger</name></location><location id="id3" x="-104" y="-144"><name x="-120" y="-128">other</name></location><location id="id4" x="-104" y="-256"><name x="-136" y="-240">goods_train</name></location><location id="id5" x="-104" y="-368"><name x="-144" y="-360">passenger_train</name></location><location id="id6" x="-424" y="-24"><name x="-434" y="-54">target</name></location><location id="id7" x="-280" y="-256"><name x="-344" y="-288">train_type</name></location><location id="id8" x="-488" y="-168"><name x="-560" y="-200">station_and_train_details</name></location><location id="id9" x="-680" y="-160"><name x="-728" y="-168">start</name></location><init ref="id9"/><transition><source ref="id1"/><target ref="id9"/><label kind="synchronisation" x="-376" y="-320">goods_home!</label><nail x="96" y="-312"/><nail x="-656" y="-288"/></transition><transition><source ref="id2"/><target ref="id9"/><label kind="synchronisation" x="-352" y="-448">passenger_home!</label><nail x="104" y="-432"/><nail x="-664" y="-432"/></transition><transition><source ref="id0"/><target ref="id9"/><label kind="synchronisation" x="-288" y="32">next_train!</label><nail x="280" y="24"/><nail x="-688" y="32"/></transition><transition><source ref="id6"/><target ref="id0"/><label kind="synchronisation" x="-136" y="-56">target_end!</label></transition><transition><source ref="id3"/><target ref="id0"/><label kind="synchronisation" x="16" y="-144">other_type_end!</label><nail x="192" y="-144"/></transition><transition><source ref="id4"/><target ref="id1"/><label kind="synchronisation" x="-80" y="-280">goods_dispatch_check!</label></transition><transition><source ref="id5"/><target ref="id2"/><label kind="synchronisation" x="-88" y="-400">passenger_dispatch_check!</label></transition><transition><source ref="id7"/><target ref="id3"/><label kind="synchronisation" x="-256" y="-136">is_othertype_train!</label><nail x="-280" y="-136"/></transition><transition><source ref="id7"/><target ref="id4"/><label kind="synchronisation" x="-256" y="-256">is_goods_train!</label></transition><transition><source ref="id7"/><target ref="id5"/><label kind="synchronisation" x="-272" y="-392">is_passenger_train!</label><nail x="-280" y="-368"/></transition><transition><source ref="id8"/><target ref="id7"/><label kind="synchronisation" x="-448" y="-240">is_not_destination!</label></transition><transition><source ref="id8"/><target ref="id6"/><label kind="synchronisation" x="-584" y="-104">is_destination!</label><nail x="-488" y="-16"/></transition><transition><source ref="id9"/><target ref="id8"/><label kind="synchronisation" x="-632" y="-184">get_details!</label></transition></template><template><name>dispatch_process_passenger</name><location id="id10" x="464" y="-56"><name x="454" y="-86">dispatch</name></location><location id="id11" x="168" y="-224"><name x="144" y="-256">update</name></location><location id="id12" x="-40" y="-216"><name x="-50" y="-246">notify</name></location><location id="id13" x="-280" y="-208"><name x="-328" y="-240">check_to_adjust</name></location><location id="id14" x="-472" y="-200"><name x="-544" y="-240">trainslist_samepath</name></location><location id="id15" x="-480" y="-64"><name x="-472" y="-96">delay_check</name></location><location id="id16" x="304" y="176"><name x="272" y="192">notify_station</name></location><location id="id17" x="192" y="32"><name x="160" y="0">accident_check</name></location><location id="id18" x="80" y="184"><name x="48" y="192">update_train</name></location><location id="id19" x="-8" y="48"><name x="-32" y="16">pick_route</name></location><location id="id20" x="-120" y="192"><name x="-168" y="200">time_constraint</name></location><location id="id21" x="-264" y="64"><name x="-320" y="32">best_route_found</name></location><location id="id22" x="-360" y="192"><name x="-440" y="208">check_alternative_routes</name></location><location id="id23" x="-480" y="72"><name x="-552" y="32">route_optimization</name></location><location id="id24" x="-608" y="-56"><name x="-624" y="-40">start</name></location><init ref="id24"/><transition><source ref="id10"/><target ref="id24"/><label kind="synchronisation" x="-144" y="-288">move_initial!</label><nail x="456" y="-264"/><nail x="-592" y="-264"/></transition><transition><source ref="id17"/><target ref="id22"/><label kind="synchronisation" x="-168" y="280">accident_in_path!</label><nail x="208" y="280"/><nail x="-360" y="288"/></transition><transition><source ref="id11"/><target ref="id10"/><label kind="synchronisation" x="248" y="-120">dispatch_ready!</label><nail x="176" y="-112"/></transition><transition><source ref="id16"/><target ref="id10"/><label kind="synchronisation" x="324" y="45">dispatch_ready2!</label></transition><transition><source ref="id12"/><target ref="id11"/><label kind="synchronisation" x="8" y="-216">update_schedule!</label></transition><transition><source ref="id13"/><target ref="id12"/><label kind="synchronisation" x="-208" y="-208">notify_train!</label></transition><transition><source ref="id14"/><target ref="id13"/><label kind="synchronisation" x="-464" y="-200">check_othertrain_possibilities!</label></transition><transition><source ref="id15"/><target ref="id14"/><label kind="synchronisation" x="-552" y="-144">is_delayed!</label></transition><transition><source ref="id17"/><target ref="id16"/><label kind="synchronisation" x="208" y="104">notify_station1!</label></transition><transition><source ref="id18"/><target ref="id17"/><label kind="synchronisation" x="32" y="72">check_for_known_accidents!</label></transition><transition><source ref="id19"/><target ref="id18"/><label kind="synchronisation" x="-8" y="104">send_update!</label></transition><transition><source ref="id20"/><target ref="id19"/><label kind="synchronisation" x="-112" y="112">finalize_route!</label></transition><transition><source ref="id21"/><target ref="id20"/><label kind="synchronisation" x="-224" y="112">calculate_time!</label></transition><transition><source ref="id22"/><target ref="id21"/><label kind="synchronisation" x="-376" y="120">find_shortest_path!</label></transition><transition><source ref="id23"/><target ref="id22"/><label kind="synchronisation" x="-528" y="128">alternative_route!</label></transition><transition><source ref="id15"/><target ref="id23"/><label kind="synchronisation" x="-584" y="0">is_not_delayed!</label></transition><transition><source ref="id24"/><target ref="id15"/><label kind="synchronisation" x="-592" y="-56">dispatch_train22!</label></transition></template><template><name>train</name><location id="id25" x="-1344" y="-40"></location><location id="id26" x="-1424" y="-128"></location><location id="id27" x="-1056" y="168"></location><location id="id28" x="-1224" y="-208"></location><location id="id29" x="-1224" y="-280"></location><location id="id30" x="-1624" y="-88"></location><location id="id31" x="-1592" y="-32"></location><location id="id32" x="-1264" y="-216"></location><location id="id33" x="-1272" y="-336"></location><location id="id34" x="-1776" y="-120"></location><location id="id35" x="-1960" y="0"><name x="-1976" y="-32">loopback</name></location><location id="id36" x="-1144" y="200"><name x="-1160" y="224">notified</name></location><location id="id37" x="-1304" y="256"><name x="-1352" y="232">Oacknowledgement</name></location><location id="id38" x="-1440" y="256"><name x="-1496" y="224">office_notification</name></location><location id="id39" x="-1224" y="144"><name x="-1234" y="114">acknowledgement</name></location><location id="id40" x="-1336" y="152"><name x="-1376" y="120">train_notification</name></location><location id="id41" x="-1576" y="152"><name x="-1632" y="168">confirm_from_system</name></location><location id="id42" x="-1664" y="264"><name x="-1688" y="272">update_ready</name></location><location id="id43" x="-1664" y="96"><name x="-1704" y="56">adjustments_ready</name></location><location id="id44" x="-1808" y="272"><name x="-1872" y="288">find_alternative_route</name></location><location id="id45" x="-1808" y="104"><name x="-1904" y="64">check_other_trains_to_delay</name></location><location id="id46" x="-1928" y="184"><name x="-2000" y="152">dispatch_g</name></location><location id="id47" x="-1056" y="-96"></location><location id="id48" x="-1368" y="-448"><name x="-1378" y="-478">update</name></location><location id="id49" x="-1512" y="-440"><name x="-1522" y="-470">notify</name></location><location id="id50" x="-1664" y="-448"><name x="-1704" y="-480">check_to_adjust</name></location><location id="id51" x="-1176" y="-200"><name x="-1186" y="-230">dispatch</name></location><location id="id52" x="-1344" y="-216"><name x="-1384" y="-208">notify_station</name></location><location id="id53" x="-1408" y="-312"><name x="-1448" y="-344">accident_check</name></location><location id="id54" x="-1480" y="-208"><name x="-1512" y="-192">update_train</name></location><location id="id55" x="-1536" y="-304"><name x="-1560" y="-336">pick_route</name></location><location id="id56" x="-1584" y="-208"><name x="-1624" y="-200">time_constraint</name></location><location id="id57" x="-1648" y="-296"><name x="-1704" y="-328">finding_best_route</name></location><location id="id58" x="-1712" y="-208"><name x="-1784" y="-200">check_alternative_route</name></location><location id="id59" x="-1784" y="-288"><name x="-1840" y="-328">route_optimization</name></location><location id="id60" x="-1784" y="-440"><name x="-1848" y="-472">trainslist_samepath</name></location><location id="id61" x="-1952" y="-344"><name x="-1984" y="-328">delay_check</name></location><location id="id62" x="-2120" y="-216"><name x="-2160" y="-200">dispatch_goods</name></location><location id="id63" x="-2120" y="-336"><name x="-2184" y="-320">dispatch_passenger</name></location><location id="id64" x="-2256" y="-120"><name x="-2288" y="-152">othertype_train</name></location><location id="id65" x="-2256" y="-224"><name x="-2272" y="-208">goods_train</name></location><location id="id66" x="-2256" y="-328"><name x="-2296" y="-312">passenger_train</name></location><location id="id67" x="-2384" y="-216"><name x="-2408" y="-248">train_type</name></location><location id="id68" x="-2456" y="0"><name x="-2488" y="16">target_station</name></location><location id="id69" x="-2528" y="-120"><name x="-2544" y="-152">details</name></location><location id="id70" x="-2656" y="-112"><name x="-2672" y="-96">start</name></location><init ref="id70"/><transition><source ref="id25"/><target ref="id51"/><label kind="synchronisation" x="-1304" y="-64">move_initial3?</label><nail x="-1184" y="-32"/></transition><transition><source ref="id31"/><target ref="id25"/><label kind="synchronisation" x="-1528" y="-51">goods_home?</label></transition><transition><source ref="id26"/><target ref="id51"/><label kind="synchronisation" x="-1360" y="-179">move_initial3?</label></transition><transition><source ref="id30"/><target ref="id26"/><label kind="synchronisation" x="-1584" y="-123">goods_home?</label></transition><transition><source ref="id27"/><target ref="id47"/></transition><transition><source ref="id36"/><target ref="id27"/><label kind="synchronisation" x="-1160" y="169">move_initial2?</label></transition><transition><source ref="id28"/><target ref="id51"/><label kind="synchronisation" x="-1248" y="-200">move_initial?</label></transition><transition><source ref="id32"/><target ref="id28"/><label kind="synchronisation" x="-1304" y="-240">passenger_home?</label></transition><transition><source ref="id29"/><target ref="id51"/><label kind="synchronisation" x="-1240" y="-264">move_initial?</label></transition><transition><source ref="id33"/><target ref="id29"/><label kind="synchronisation" x="-1308" y="-323">passenger_home?</label></transition><transition><source ref="id43"/><target ref="id30"/><label kind="synchronisation" x="-1720" y="-48">dispatch_ready4?</label></transition><transition><source ref="id42"/><target ref="id31"/><label kind="synchronisation" x="-1688" y="136">dispatch_ready3?</label></transition><transition><source ref="id52"/><target ref="id32"/><label kind="synchronisation" x="-1360" y="-248">dispatch_ready2?</label></transition><transition><source ref="id48"/><target ref="id33"/><label kind="synchronisation" x="-1380" y="-407">dispatch_ready?</label></transition><transition><source ref="id34"/><target ref="id47"/><label kind="synchronisation" x="-1728" y="-136">next_train?</label></transition><transition><source ref="id64"/><target ref="id34"/><label kind="synchronisation" x="-2088" y="-144">other_type_end?</label></transition><transition><source ref="id35"/><target ref="id47"/><label kind="synchronisation" x="-1744" y="-16">next_train?</label><nail x="-1088" y="8"/></transition><transition><source ref="id68"/><target ref="id35"/><label kind="synchronisation" x="-2272" y="-16">target_end?</label></transition><transition><source ref="id41"/><target ref="id40"/><label kind="synchronisation" x="-1512" y="128">notify_train?</label></transition><transition><source ref="id41"/><target ref="id38"/><label kind="synchronisation" x="-1600" y="216">notify_office?</label><nail x="-1568" y="256"/></transition><transition><source ref="id51"/><target ref="id47"/><nail x="-1208" y="-160"/><nail x="-1208" y="-72"/><nail x="-1088" y="-72"/></transition><transition><source ref="id47"/><target ref="id70"/><nail x="-1056" y="-480"/><nail x="-2648" y="-472"/></transition><transition><source ref="id37"/><target ref="id36"/><label kind="synchronisation" x="-1256" y="208">Onotified?</label></transition><transition><source ref="id39"/><target ref="id36"/><label kind="synchronisation" x="-1192" y="144">tnotified?</label></transition><transition><source ref="id37"/><target ref="id38"/><label kind="synchronisation" x="-1416" y="176">Ofailed?</label><nail x="-1304" y="200"/><nail x="-1440" y="200"/></transition><transition><source ref="id39"/><target ref="id40"/><label kind="synchronisation" x="-1312" y="56">failed?</label><nail x="-1224" y="80"/><nail x="-1344" y="80"/></transition><transition><source ref="id38"/><target ref="id37"/><label kind="synchronisation" x="-1448" y="264">Onotification_confirmation?</label></transition><transition><source ref="id40"/><target ref="id39"/><label kind="synchronisation" x="-1352" y="160">notification_confirmation?</label></transition><transition><source ref="id51"/><target ref="id41"/><label kind="synchronisation" x="-1432" y="8">confirmation?</label><nail x="-1176" y="-256"/><nail x="-1120" y="-256"/><nail x="-1112" y="32"/><nail x="-1584" y="32"/></transition><transition><source ref="id44"/><target ref="id42"/><label kind="synchronisation" x="-1808" y="240">check_fuel_economy?</label></transition><transition><source ref="id45"/><target ref="id43"/><label kind="synchronisation" x="-1800" y="104">make_adjustments?</label></transition><transition><source ref="id46"/><target ref="id44"/><label kind="synchronisation" x="-1920" y="216">is_not_delayed2?</label></transition><transition><source ref="id46"/><target ref="id45"/><label kind="synchronisation" x="-1912" y="128">is_delayed1?</label></transition><transition><source ref="id62"/><target ref="id46"/><label kind="synchronisation" x="-2000" y="-72">dispatch_goods1?</label><nail x="-1936" y="-216"/></transition><transition><source ref="id53"/><target ref="id58"/><label kind="synchronisation" x="-1632" y="-392">accident_in_path?</label><nail x="-1408" y="-376"/><nail x="-1720" y="-368"/></transition><transition><source ref="id49"/><target ref="id48"/><label kind="synchronisation" x="-1496" y="-440">update_schedule?</label></transition><transition><source ref="id50"/><target ref="id49"/><label kind="synchronisation" x="-1632" y="-448">notify_train?</label></transition><transition><source ref="id60"/><target ref="id50"/><label kind="synchronisation" x="-1808" y="-424">check_othertrain_possibilities?</label></transition><transition><source ref="id61"/><target ref="id60"/><label kind="synchronisation" x="-1928" y="-407">is_delayed?</label></transition><transition><source ref="id53"/><target ref="id52"/><label kind="synchronisation" x="-1416" y="-264">notify_station1?</label></transition><transition><source ref="id54"/><target ref="id53"/><label kind="synchronisation" x="-1512" y="-296">check_for_known_accidents?</label></transition><transition><source ref="id55"/><target ref="id54"/><label kind="synchronisation" x="-1552" y="-248">send_update?</label></transition><transition><source ref="id56"/><target ref="id55"/><label kind="synchronisation" x="-1608" y="-280">finalize_route?</label></transition><transition><source ref="id57"/><target ref="id56"/><label kind="synchronisation" x="-1672" y="-256">calculate_time?</label></transition><transition><source ref="id58"/><target ref="id57"/><label kind="synchronisation" x="-1752" y="-272">find_shortest_path?</label></transition><transition><source ref="id59"/><target ref="id58"/><label kind="synchronisation" x="-1848" y="-256">alternative_route?</label></transition><transition><source ref="id61"/><target ref="id59"/><label kind="synchronisation" x="-1936" y="-312">is_not_delayed?</label></transition><transition><source ref="id63"/><target ref="id61"/><label kind="synchronisation" x="-2080" y="-336">dispatch_train22?</label></transition><transition><source ref="id65"/><target ref="id62"/><label kind="synchronisation" x="-2256" y="-256">goods_dispatch_check?</label></transition><transition><source ref="id66"/><target ref="id63"/><label kind="synchronisation" x="-2264" y="-368">passenger_dispatch_check?</label></transition><transition><source ref="id67"/><target ref="id64"/><label kind="synchronisation" x="-2392" y="-104">is_othertype_train?</label><nail x="-2384" y="-104"/></transition><transition><source ref="id67"/><target ref="id65"/><label kind="synchronisation" x="-2368" y="-216">is_goods_train?</label></transition><transition><source ref="id67"/><target ref="id66"/><label kind="synchronisation" x="-2416" y="-352">is_passenger_train?</label><nail x="-2376" y="-328"/></transition><transition><source ref="id69"/><target ref="id67"/><label kind="synchronisation" x="-2544" y="-184">is_not_destination?</label></transition><transition><source ref="id69"/><target ref="id68"/><label kind="synchronisation" x="-2576" y="-64">is_destination?</label></transition><transition><source ref="id70"/><target ref="id69"/><label kind="synchronisation" x="-2632" y="-136">get_details?</label></transition></template><template><name>notification_process</name><location id="id71" x="-368" y="88"><name x="-416" y="56">Oacknowledgement</name></location><location id="id72" x="-528" y="96"><name x="-568" y="64">office_notification</name></location><location id="id73" x="-184" y="40"><name x="-194" y="10">notified</name></location><location id="id74" x="-328" y="-24"><name x="-368" y="-56">acknowledgement</name></location><location id="id75" x="-456" y="-16"><name x="-512" y="-48">train_notification</name></location><location id="id76" x="-608" y="-8"><name x="-672" y="0">confirm_from_system</name></location><location id="id77" x="-752" y="-8"><name x="-768" y="-40">start</name></location><init ref="id77"/><transition><source ref="id73"/><target ref="id77"/><label kind="synchronisation" x="-568" y="208">move_initial2!</label><nail x="-184" y="208"/><nail x="-760" y="216"/></transition><transition><source ref="id71"/><target ref="id72"/><label kind="synchronisation" x="-480" y="176">Ofailed!</label><nail x="-368" y="176"/><nail x="-520" y="176"/></transition><transition><source ref="id74"/><target ref="id75"/><label kind="synchronisation" x="-424" y="-128">failed!</label><nail x="-328" y="-112"/><nail x="-464" y="-104"/></transition><transition><source ref="id71"/><target ref="id73"/><label kind="synchronisation" x="-296" y="72">Onotified!</label></transition><transition><source ref="id72"/><target ref="id71"/><label kind="synchronisation" x="-528" y="96">Onotification_confirmation!</label></transition><transition><source ref="id74"/><target ref="id73"/><label kind="synchronisation" x="-272" y="-16">tnotified!</label></transition><transition><source ref="id75"/><target ref="id74"/><label kind="synchronisation" x="-464" y="-8">notification_confirmation!</label></transition><transition><source ref="id76"/><target ref="id75"/><label kind="synchronisation" x="-576" y="-32">notify_train!</label></transition><transition><source ref="id76"/><target ref="id72"/><label kind="synchronisation" x="-688" y="40">notify_office!</label><nail x="-600" y="104"/></transition><transition><source ref="id77"/><target ref="id76"/><label kind="synchronisation" x="-728" y="-32">confirmation!</label></transition></template><template><name>dispatch_process_goods</name><location id="id78" x="-424" y="-64"><name x="-434" y="-94">dispatch</name></location><location id="id79" x="-584" y="32"><name x="-616" y="48">update_ready</name></location><location id="id80" x="-584" y="-144"><name x="-640" y="-176">adjustments_ready</name></location><location id="id81" x="-776" y="48"><name x="-832" y="64">find_alternative_route</name></location><location id="id82" x="-776" y="-136"><name x="-864" y="-176">check_other_trains_to_delay</name></location><location id="id83" x="-904" y="-48"><name x="-944" y="-80">dispatch_g</name></location><location id="id84" x="-1032" y="-48"><name x="-1042" y="-78">start</name></location><init ref="id84"/><transition><source ref="id78"/><target ref="id84"/><label kind="synchronisation" x="-776" y="128">move_initial3!</label><nail x="-424" y="128"/><nail x="-1032" y="128"/></transition><transition><source ref="id79"/><target ref="id78"/><label kind="synchronisation" x="-552" y="-24">dispatch_ready3!</label></transition><transition><source ref="id81"/><target ref="id79"/><label kind="synchronisation" x="-760" y="16">check_fuel_economy!</label></transition><transition><source ref="id83"/><target ref="id81"/><label kind="synchronisation" x="-904" y="-8">is_not_delayed2!</label></transition><transition><source ref="id80"/><target ref="id78"/><label kind="synchronisation" x="-564" y="-119">dispatch_ready4!</label></transition><transition><source ref="id82"/><target ref="id80"/><label kind="synchronisation" x="-744" y="-136">make_adjustments!</label></transition><transition><source ref="id83"/><target ref="id82"/><label kind="synchronisation" x="-900" y="-107">is_delayed1!</label></transition><transition><source ref="id84"/><target ref="id83"/><label kind="synchronisation" x="-1024" y="-40">dispatch_goods1!</label></transition></template><system>// Place template instantiations here.
dispatch_passenger_train1 = train_dispatch_system();
passenger_temp = dispatch_process_passenger();
goods_temp = dispatch_process_goods();
notify_temp = notification_process();
passenger_train_run = train();

// List one or more processes to be composed into a system.
system dispatch_passenger_train1 ,passenger_temp, goods_temp, notify_temp,passenger_train_run  ;</system></nta>